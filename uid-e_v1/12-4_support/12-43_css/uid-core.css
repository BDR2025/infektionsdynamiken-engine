/*!
 * UID-E · Core CSS
 * Version: 1.2.1 (2025-10-06)
 * Changes:
 *  - v1.2.1  Konsolidiert: Formelkarten & restliche Legacy-Fragmente entfernt, Kommentare gestrafft.
 *  - v1.2.0  Cleanup: Dev-/Legacy-Blöcke entfernt; Legacy-Header-Adjazenzregel gestrichen.
 *  - v1.1.0  Collapsed State vereinheitlicht (kein Grid/Gap/Padding/Min-Height/Bordertop im Body).
 *  - v1.0.1  KPI-Body ohne hartes +44px; Steuerung via --kpi-gap / --kpi-overlay-space.
 */

/* =========================
   0) Root Tokens & Base
   ========================= */
:root {
  --gap: 16px;
  --panel: rgba(255,255,255,0.04);
  --border: rgba(255,255,255,0.12);
  --muted: #9fb2c6;
  --fg: #eaf0f6;
  --bg: #0b1b2d;
  --shadow-1: 0 2px 8px rgba(0,0,0,0.2);
}

html, body { height: 100%; }
body {
  margin: 0;
  padding: var(--gap);
  background: var(--bg);
  color: var(--fg);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}

/* =========================
   1) Support / Canvas
   ========================= */
#gw-host canvas { width: 100%; height: 100%; display: block; }

/* =========================
   2) KPI Widget (Core)
   ========================= */
/* Variabel gesteuert – KEIN hartes +44px mehr */
.widget.widget-kpi .widget-body {
  padding: var(--kpi-gap, 12px) !important; /* L/R/Bottom */
}

/* =========================
   3) Collapsed State (Unified)
   ========================= */
/* Wenn der neue Header deaktiviert ist, wird der Body restlos zugeklappt. */
.uidw-header[data-enabled="false"] + .widget-body {
  display: block !important;  /* Grid/Gap neutralisieren */
  padding: 0 !important;
  margin: 0 !important;
  min-height: 0 !important;
  gap: 0 !important;
  border-top: 0 !important;

  /* Reserveflächen (z. B. KPI-Overlay) neutralisieren */
  --kpi-overlay-space: 0px;
}

/* Innenliegende KPI-Decks im zugeklappten Zustand ohne Spacing */
.uidw-header[data-enabled="false"] + .widget-body .kpi-deck {
  gap: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  min-height: 0 !important;
}
